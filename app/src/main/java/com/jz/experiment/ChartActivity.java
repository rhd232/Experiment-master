package com.jz.experiment;

import android.graphics.Color;
import android.os.Bundle;
import android.support.annotation.Nullable;

import com.github.mikephil.charting.charts.LineChart;
import com.github.mikephil.charting.components.Description;
import com.github.mikephil.charting.components.Legend;
import com.github.mikephil.charting.components.XAxis;
import com.github.mikephil.charting.components.YAxis;
import com.github.mikephil.charting.data.Entry;
import com.github.mikephil.charting.data.LineData;
import com.github.mikephil.charting.data.LineDataSet;
import com.github.mikephil.charting.interfaces.datasets.ILineDataSet;
import com.wind.base.BaseActivity;

import java.util.ArrayList;
import java.util.List;

public class ChartActivity extends BaseActivity {
    LineData mLineData;
    ArrayList<ILineDataSet> mDataSets;
    LineChart chart;
    @Override
    protected void onCreate(@Nullable Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        setContentView(R.layout.activity_chart);
        chart=findViewById(R.id.chart_line);
        mDataSets=new ArrayList<>();
        XAxis xAxis = chart.getXAxis();
        xAxis.setEnabled(true);

        xAxis.setPosition(XAxis.XAxisPosition.BOTTOM); // 设置X轴的位置
        xAxis.setDrawGridLines(false); // 效果如下图
        xAxis.setDrawLabels(true);
        xAxis.setDrawAxisLine(true);

        xAxis.setAxisMinimum(0);

        YAxis yAxisRight = chart.getAxisRight();
        yAxisRight.setEnabled(false);

        YAxis yAxisLeft = chart.getAxisLeft();
        yAxisLeft.setPosition(YAxis.YAxisLabelPosition.OUTSIDE_CHART);
        yAxisLeft.setDrawGridLines(false);


        Description description = new Description();
        description.setEnabled(false);
        chart.setDescription(description);
        Legend legend = chart.getLegend();
        // legend.setPosition(Legend.LegendPosition.RIGHT_OF_CHART);
        legend.setHorizontalAlignment(Legend.LegendHorizontalAlignment.RIGHT);
        legend.setVerticalAlignment(Legend.LegendVerticalAlignment.TOP);

        //String a1="4.055873225303984952e+01 8.108330701550059416e+01 -1.672037202232046482e+01 -1.285835285955664098e+01 -1.718241728260563761e+01 -1.840610933849377773e+01 3.777800082873489007e+00 -2.290879494867198662e+00 5.528716868378801053e+00 4.620735410797731646e+01 3.840575120409884580e+00 2.221814011288935831e+01 1.068052770663802953e+01 2.377997783691558453e+01 4.251841747503529945e+01 9.018548957951291811e+01 1.285566125727769133e+02 1.919108892559584660e+02 3.162008393880597623e+02 5.059523527060822516e+02 8.221161236584448488e+02 1.202182254355564737e+03 1.685949677170963241e+03 2.240131274125768869e+03 2.768219394960829050e+03 3.269383268893384866e+03 3.712738242519124015e+03 4.055989728398235002e+03 4.361796183013077098e+03 4.574621080695582350e+03 4.740357034285820191e+03 4.819452048541262229e+03 4.916340991070876044e+03 5.001013557891588789e+03 5.070658622141604610e+03 5.114932950697067099e+03 5.114918651190311721e+03 5.154471372520776640e+03 5.162466576504542900e+03 5.167216698827101027e+03 5.192331883828908758e+03 5.204292259785210263e+03 5.209994680203710232e+03 5.222282778361924102e+03 5.216466222282131639e+03 5.220333022484339381e+03 5.223407387640902925e+03 5.242954733963119907e+03 5.236984877706024236e+03 5.216754069006098689e+03 5.255016287263046252e+03";
        String chan3A1="1.150874341536184886e+01 2.194492545072485612e+01 1.407372189775378857e+01 2.033612422819548726e+01 -1.554362911417056958e+00 4.395881507931087562e+00 1.209570383650667935e+01 7.882566240381597034e+00 1.754019408862349039e+01 2.157167187377312345e+01 3.135437965458126897e+01 3.855327573574687960e+01 4.704392111469852722e+01 6.359605944527441324e+01 9.006709531774788502e+01 1.242268024666675501e+02 1.718291336914093961e+02 2.297880588178541359e+02 3.263012720206417043e+02 4.408743695753888687e+02 5.955586378329386434e+02 8.278397495504990502e+02 1.090522243181189197e+03 1.403041586263473164e+03 1.721527493183145225e+03 2.067962637150506907e+03 2.407317598027961594e+03 2.752485128962587169e+03 3.078702912279273733e+03 3.384029948996347684e+03 3.654469486261303246e+03 3.918211235622457025e+03 4.132504924152945932e+03 4.308480727839904830e+03 4.453927002478724717e+03 4.583305959691970202e+03 4.685633481960151585e+03 4.781480970830636579e+03 4.853423005543121690e+03 4.968615719586760861e+03 5.006950118976795238e+03 5.072865857780215265e+03 5.090426035485335888e+03 5.137889682770825857e+03 5.162025769848914933e+03 5.172416741920977074e+03 5.213751768607265149e+03 5.219610877694158262e+03 5.242741461421692293e+03 5.265328624568531268e+03 5.260510676557276383e+03";
        String [] chan3A1Parts=chan3A1.split(" ");
        List<Entry> chan3A1Data = new ArrayList<>();
        for (int i=0;i<chan3A1Parts.length;i++){
            Entry entry = new Entry(i, Float.parseFloat(chan3A1Parts[i]));
            chan3A1Data.add(entry);
        }
        LineDataSet chan3A1dataSet = new LineDataSet(chan3A1Data, "通道" + 3);
        chan3A1dataSet.setColor(Color.parseColor("#355ABB"));
        chan3A1dataSet.setDrawCircles(false);
        chan3A1dataSet.setDrawValues(false);
        mDataSets.add(chan3A1dataSet);

        String chan3A2="1.008333333333337123e+01 2.016666666666662877e+01 1.016666666666662877e+01 1.566666666666662877e+01 -2.333333333333371229e+00 6.666666666666287711e-01 -6.833333333333371229e+00 1.166666666666628771e+00 -2.333333333333371229e+00 -2.833333333333371229e+00 -8.333333333333712289e-01 -2.333333333333371229e+00 -1.183333333333337123e+01 -2.333333333333371229e+00 -7.333333333333371229e+00 -8.833333333333371229e+00 1.666666666666287711e-01 7.166666666666628771e+00 1.866666666666662877e+01 4.366666666666662877e+01 7.866666666666662877e+01 1.641666666666666288e+02 2.436666666666666288e+02 3.341666666666666288e+02 4.071666666666666288e+02 4.711666666666666288e+02 5.306666666666666288e+02 6.006666666666666288e+02 6.451666666666666288e+02 7.166666666666666288e+02 7.441666666666666288e+02 8.161666666666666288e+02 8.576666666666666288e+02 8.946666666666666288e+02 9.371666666666666288e+02 9.961666666666666288e+02 1.034166666666666515e+03 1.059166666666666515e+03 1.106666666666666515e+03 1.183166666666666515e+03 1.189166666666666515e+03 1.251166666666666515e+03 1.223166666666666515e+03 1.259166666666666515e+03 1.294166666666666515e+03 1.292166666666666515e+03 1.341166666666666515e+03 1.349166666666666515e+03 1.356166666666666515e+03 1.382166666666666515e+03 1.351166666666666515e+03";
        String [] chan3A2Parts=chan3A2.split(" ");
        List<Entry> chan3A2Data = new ArrayList<>();
        for (int i=0;i<chan3A2Parts.length;i++){
            Entry entry = new Entry(i, Float.parseFloat(chan3A2Parts[i]));
            chan3A2Data.add(entry);
        }
        LineDataSet chan3A2dataSet = new LineDataSet(chan3A2Data, "通道" + 3);
        chan3A2dataSet.setColor(Color.parseColor("#355ABB"));
        chan3A2dataSet.setDrawCircles(false);
        chan3A2dataSet.setDrawValues(false);
        mDataSets.add(chan3A2dataSet);

        String chan3A3="1.367039145245394316e+01 2.593831056085233300e+01 1.487958453351368604e+01 1.313540050634534317e+01 8.060564786480018284e+00 9.169569200909283069e+00 1.664788621902631149e+01 2.136679894178097427e+01 1.727776010298272880e+01 1.681246439461456887e+01 4.303996807128157798e+01 3.970721367835662363e+01 6.328905876174133027e+01 7.904809428844326646e+01 1.122277333363223022e+02 1.461236039363891166e+02 1.993973465634428521e+02 2.743626538747384984e+02 3.648355618075833036e+02 4.905012903516555980e+02 6.594891077143890925e+02 8.652269166042538018e+02 1.141936784988823774e+03 1.436972494714439563e+03 1.750958433262718017e+03 2.091185480981725050e+03 2.426851196364657881e+03 2.768912776619714805e+03 3.093840297033994375e+03 3.402112234159232230e+03 3.673108760700306902e+03 3.913676794318856082e+03 4.126387618564198419e+03 4.306151645816970813e+03 4.453543011359312004e+03 4.582970199391781534e+03 4.673690533829288142e+03 4.766557244313725278e+03 4.835955585199376401e+03 4.947993678721487413e+03 4.981145354768998004e+03 5.006181487476007533e+03 5.073240227839052750e+03 5.087397173928586199e+03 5.119228621063449282e+03 5.134115310329938438e+03 5.150536428405482184e+03 5.161354735979005454e+03 5.157094129951221475e+03 5.177711003624952355e+03 5.171610653667056795e+03";
        String [] chan3A3Parts=chan3A3.split(" ");
        List<Entry> chan3A3Data = new ArrayList<>();
        for (int i=0;i<chan3A3Parts.length;i++){
            Entry entry = new Entry(i, Float.parseFloat(chan3A3Parts[i]));
            chan3A3Data.add(entry);
        }
        LineDataSet chan3A3dataSet = new LineDataSet(chan3A3Data, "通道" + 3);
        chan3A3dataSet.setColor(Color.parseColor("#355ABB"));
        chan3A3dataSet.setDrawCircles(false);
        chan3A3dataSet.setDrawValues(false);
        mDataSets.add(chan3A3dataSet);

        String chan3A4="9.081835467203429602e+00 1.558923422885938948e+01 1.303735491917156430e+01 1.248300019380057790e+01 1.258279938580363755e+01 1.804216374037948967e+01 1.900509362841724936e+01 2.782319813821560217e+01 3.032991736587569775e+01 4.399601166789881290e+01 5.796732074736306828e+01 7.211046071058068208e+01 9.781629277802434785e+01 1.351843153149131638e+02 1.749581115790022636e+02 2.188270311119406415e+02 2.892018596763613232e+02 3.834373286013183701e+02 4.842133521770654170e+02 6.402791379580546618e+02 8.246433438013634714e+02 1.047571814185839912e+03 1.319818524554563965e+03 1.618112699241767586e+03 1.943147598295720172e+03 2.277971961583782104e+03 2.608580084695853202e+03 2.932003764543671878e+03 3.246687212770178576e+03 3.525415947776582925e+03 3.793414981514352348e+03 4.012615292490098454e+03 4.202722402693782897e+03 4.367729983446293772e+03 4.497012321292259003e+03 4.610038712700339602e+03 4.693276795737151588e+03 4.772655530937914591e+03 4.843674091968300672e+03 4.901360330839708695e+03 4.957163797476655418e+03 4.986129088335933375e+03 5.020330577242431900e+03 5.033807501428371324e+03 5.061868764148142873e+03 5.077390153515825659e+03 5.092103570643838793e+03 5.114628824248496130e+03 5.097248957646763301e+03 5.112180174402122248e+03 5.113087373043714251e+03";
        String [] chan3A4Parts=chan3A4.split(" ");
        List<Entry> chan3A4Data = new ArrayList<>();
        for (int i=0;i<chan3A4Parts.length;i++){
            Entry entry = new Entry(i, Float.parseFloat(chan3A4Parts[i]));
            chan3A4Data.add(entry);
        }
        LineDataSet chan3A4dataSet = new LineDataSet(chan3A4Data, "通道" + 3);
        chan3A4dataSet.setColor(Color.parseColor("#355ABB"));
        chan3A4dataSet.setDrawCircles(false);
        chan3A4dataSet.setDrawValues(false);
        mDataSets.add(chan3A4dataSet);

        String chan3B1="2.037978993590163412e+01 3.820674010801328535e+01 1.944729560840354665e+01 1.689676596207156578e+01 1.382079527009701714e+01 1.527767118357630771e+01 1.850592838981612331e+01 3.131544569102597464e+01 2.373283951972632977e+01 3.677701852916481329e+01 5.424072510655882695e+01 6.235364928156470654e+01 8.095209392001299875e+01 1.177789448669816892e+02 1.456604983889724281e+02 1.929280739231593031e+02 2.549468584369961093e+02 3.338569500347286976e+02 4.276228331594873566e+02 5.737301055669134939e+02 7.423677269732694413e+02 9.495742282484181942e+02 1.208617010775276640e+03 1.496693373617403950e+03 1.802374913308444548e+03 2.124646091515283842e+03 2.440980572546264739e+03 2.765249621409582687e+03 3.086784336419720603e+03 3.360859926176834961e+03 3.630848387711058422e+03 3.882060395209245598e+03 4.067896494386267022e+03 4.249601480601148069e+03 4.405099930538176523e+03 4.538226944138184081e+03 4.631337147325632941e+03 4.722949999768839916e+03 4.804791810191440163e+03 4.889199499789740912e+03 4.941598909885075955e+03 4.972401875729497988e+03 5.007050036766095218e+03 5.062441244025965716e+03 5.062230384201158813e+03 5.095625466322465400e+03 5.104677310455684164e+03 5.119062596391431725e+03 5.124860755880194120e+03 5.153075500761810872e+03 5.164151854461203584e+03";
        String [] chan3B1Parts=chan3B1.split(" ");
        List<Entry> chan3B1Data = new ArrayList<>();
        for (int i=0;i<chan3B1Parts.length;i++){
            Entry entry = new Entry(i, Float.parseFloat(chan3B1Parts[i]));
            chan3B1Data.add(entry);
        }
        LineDataSet chan3B1dataSet = new LineDataSet(chan3B1Data, "通道" + 3);
        chan3B1dataSet.setColor(Color.parseColor("#355ABB"));
        chan3B1dataSet.setDrawCircles(false);
        chan3B1dataSet.setDrawValues(false);
        mDataSets.add(chan3B1dataSet);

        String chan3B2="1.938647087246853928e+01 3.609728648492068714e+01 1.174642162830721936e+01 1.335795223111822949e+01 1.857152489792317951e+01 2.456851627184240172e+01 1.058419318033056378e+01 3.542319995527444831e+01 2.035413108851562214e+01 4.050900924622505528e+01 4.403846232465731703e+01 6.852318997146110746e+01 7.864178541879439877e+01 1.068439108695312854e+02 1.540258981695392890e+02 1.967026593231121012e+02 2.537899326297401785e+02 3.318541615515748049e+02 4.355541922647639126e+02 5.573664592723329179e+02 7.001828885914065950e+02 9.061309433118481138e+02 1.140122284376070866e+03 1.415195755191124363e+03 1.710923038581942819e+03 2.020708849537794549e+03 2.333190053354185238e+03 2.658079262623072282e+03 2.967350520116199277e+03 3.279844568123820864e+03 3.556669757472980564e+03 3.794491430731423861e+03 4.008753359702485341e+03 4.199942112898927917e+03 4.346603286126987769e+03 4.481937310000012076e+03 4.597235562965756799e+03 4.680840655338866782e+03 4.768883079962107331e+03 4.839016854575923389e+03 4.911993212017588121e+03 4.929414608570655219e+03 4.994894043470990255e+03 5.015977714920762082e+03 5.049195590844816252e+03 5.040609154796788971e+03 5.066603633589460514e+03 5.086423840067807760e+03 5.083953767205324766e+03 5.092490554861781675e+03 5.097263631398574034e+03";
        String [] chan3B2Parts=chan3B2.split(" ");
        List<Entry> chan3B2Data = new ArrayList<>();
        for (int i=0;i<chan3B2Parts.length;i++){
            Entry entry = new Entry(i, Float.parseFloat(chan3B2Parts[i]));
            chan3B2Data.add(entry);
        }
        LineDataSet chan3B2dataSet = new LineDataSet(chan3B2Data, "通道" + 3);
        chan3B2dataSet.setColor(Color.parseColor("#355ABB"));
        chan3B2dataSet.setDrawCircles(false);
        chan3B2dataSet.setDrawValues(false);
        mDataSets.add(chan3B2dataSet);

        String chan3B3="1.219784834006094343e+01 2.218104521504786319e+01 1.684379891475280644e+01 1.233983226388592591e+01 1.369221448454306334e+01 1.697141031613553608e+01 1.868511567721213495e+01 2.667248484713659096e+01 2.450385793956990810e+01 4.163722822500633214e+01 4.883270384353219384e+01 6.695097980749619637e+01 8.638610940972955632e+01 1.173812748325638751e+02 1.615982530688959855e+02 2.106811345220732790e+02 2.785468346931448878e+02 3.623737321768325614e+02 4.803714855279719131e+02 6.224039689792427907e+02 8.042876870951444062e+02 1.029239949378742267e+03 1.299020123084785382e+03 1.594670017293163255e+03 1.922006571860177473e+03 2.261696894727540439e+03 2.606762638109536510e+03 2.941952936450488778e+03 3.254592837636736476e+03 3.555715738926894119e+03 3.810521337629750633e+03 4.032637808743941605e+03 4.222104030847704053e+03 4.379517621102257181e+03 4.518650189565719302e+03 4.622592645895939313e+03 4.711498305934739619e+03 4.779285810539897284e+03 4.843002752443338068e+03 4.910545484197502446e+03 4.942439940337980261e+03 4.973026612203392688e+03 4.999904726328855759e+03 5.018874489363108296e+03 5.054747051202421972e+03 5.060895298861316405e+03 5.059545474790883418e+03 5.087810512674085658e+03 5.078466316863335123e+03 5.091722243594821521e+03 5.088736931041110438e+03";
        String [] chan3B3Parts=chan3B3.split(" ");
        List<Entry> chan3B3Data = new ArrayList<>();
        for (int i=0;i<chan3B3Parts.length;i++){
            Entry entry = new Entry(i, Float.parseFloat(chan3B3Parts[i]));
            chan3B3Data.add(entry);
        }
        LineDataSet chan3B3dataSet = new LineDataSet(chan3B3Data, "通道" + 3);
        chan3B3dataSet.setColor(Color.parseColor("#355ABB"));
        chan3B3dataSet.setDrawCircles(false);
        chan3B3dataSet.setDrawValues(false);
        mDataSets.add(chan3B3dataSet);

        String chan3B4="9.779514127964613834e+00 1.767239178482594042e+01 1.107357240595637116e+01 1.090299571097223108e+01 1.392886314731219066e+01 1.809186838875904257e+01 1.727064019946132944e+01 2.230196601888435382e+01 2.425708687343779246e+01 3.647554992155291131e+01 4.660819422196374262e+01 6.204567706348861833e+01 8.185825552533241023e+01 1.163708794688399735e+02 1.572443525671455404e+02 2.056774540659590684e+02 2.822104600734327278e+02 3.667218607375359056e+02 4.826933221363440794e+02 6.305531148552505556e+02 8.179071413784009792e+02 1.050498975053220420e+03 1.329702062323908649e+03 1.637990786502806031e+03 1.971615458600266720e+03 2.321886114837379864e+03 2.672435034917133180e+03 3.016450162396737142e+03 3.332964860072979718e+03 3.632503726801890025e+03 3.883714667212087079e+03 4.101411444504306019e+03 4.282806844202164939e+03 4.431219432409220644e+03 4.561461650047115654e+03 4.657834878268502507e+03 4.735144695457011949e+03 4.797945782869504001e+03 4.856199339276769933e+03 4.911029725780006629e+03 4.940907642041456711e+03 4.974478648513118969e+03 5.001018949497351969e+03 5.015509282676624935e+03 5.056948228847593782e+03 5.055404292105889908e+03 5.061557599483517151e+03 5.077232672133410233e+03 5.079423842427483578e+03 5.084814781384015077e+03 5.083793398235907262e+03";
        String [] chan3B4Parts=chan3B4.split(" ");
        List<Entry> chan3B4Data = new ArrayList<>();
        for (int i=0;i<chan3B3Parts.length;i++){
            Entry entry = new Entry(i, Float.parseFloat(chan3B4Parts[i]));
            chan3B4Data.add(entry);
        }
        LineDataSet chan3B4dataSet = new LineDataSet(chan3B4Data, "通道" + 3);
        chan3B4dataSet.setColor(Color.parseColor("#355ABB"));
        chan3B4dataSet.setDrawCircles(false);
        chan3B4dataSet.setDrawValues(false);
        mDataSets.add(chan3B4dataSet);

        LineData lineData=new LineData(mDataSets);
        // chart.setTouchEnabled(false);
        chart.setDrawBorders(false);
        chart.setData(lineData);
        chart.invalidate(); // refresh
    }
}
